---
title: MySQL存储引擎总结
sidebar: [grid, toc, tags] # 放置任何你想要显示的侧边栏部件
categories: [数据库, mysql]
date: 2019-12-26
tags:
- 数据库
- mysql
- InnoDB
- 存储引擎
---

##### 1. 有哪些存储引擎

- InnoDB

  行锁设计，支持外键和事务，支持一致性非锁定读，支持多版本并发控制，实现了SQL标准的四种隔离级别，提供插入缓冲，二次写，自适应哈希索引和预读等功能。

- MyISAM

  表锁设计，不支持事务，支持全文索引，适合OLAP应用

- NDB

  NDB是一个集群存储引擎，索数据全部方内存中

- Memory

  将表中的数据全部放在内存中，如果数据库重启或者发生崩溃，数据都将小时，非常适合临时数据的临时表，默认使用哈希索引

- Archive存储引擎

  只支持插入和查询操作，支持行压缩存储，压缩比一般可以达到1：10，使用行锁来实现插入，适合存储日志信息

- Federated存储引擎

  不存放数据，类似一个网关，指向远程的MYSQL数据库服务器

- Maria存储引擎

  用来替代MyISAM存储引擎，缓存数据和索引文件，行锁设计，提供MVCC功能，支持事务

##### 2. InnoDB存储引擎与MyISAM存储引擎的对比

1. InnoDB支持事务；MyISAM不支持事务。
2. InnoDB支持外键；MyISAM不支持外键。
3. InnoDB锁的粒度是行锁；MyISAM锁的粒度是表锁。
4. InnoDB把数据和索引存在一起；MyISAM把表分为三个文件：表结构(.frm)、表内容(MYD)、表索引(MYI)。
5. InnoDB不保存表的具体行数，需要通过扫描表来获取有多少行；MyISAM保存表的具体行数。
6. InnoDB删除表中数据时是一行一行的删除；MyISAM删除表时是先`drop`表，然后重建表。
7. InnoDB可跨平台拷贝直接使用；MyISAM很难跨平台直接使用。
8. InnoDB表格很难压缩；MyISAM表格可以被压缩。
9. InnoDB中必须包含只有该字段的索引；MyISAM表中可以和其他字段一起建立联合索引。